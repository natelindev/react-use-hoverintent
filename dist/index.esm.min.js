import{useRef as e,useState as t,useEffect as n,useImperativeHandle as r}from"react";var o=function(o){var u=null!=o?o:{},i=u.ref,c=u.sensitivity,m=void 0===c?6:c,v=u.interval,s=void 0===v?100:v,a=u.timeout,f=void 0===a?0:a,l=e(null),d=t(!1),T=d[0],E=d[1],L=0,w=0,b=0,h=0,p=0,M=function(e){L=e.clientX,w=e.clientY},X=function(e){if(p&&clearTimeout(p),Math.abs(b-L)+Math.abs(h-w)<m)return E(!0);b=L,h=w,p=window.setTimeout((function(){return X()}),s)},Y=function(e){p&&clearTimeout(p),l.current&&l.current.removeEventListener("mousemove",M,!1),T||(b=e.clientX,h=e.clientY,l.current&&l.current.addEventListener("mousemove",M,!1),p=window.setTimeout((function(){return X()}),s))},x=function(e){p&&clearTimeout(p),l.current&&l.current.removeEventListener("mousemove",M,!1),T&&(p=window.setTimeout((function(){return p&&clearTimeout(p),E(!1)}),f))};return n((function(){var e=l.current;return e&&(e.addEventListener("mouseover",Y,!1),e.addEventListener("mouseout",x,!1)),function(){p&&clearTimeout(p),e&&(e.removeEventListener("mouseover",Y,!1),e.removeEventListener("mouseout",x,!1))}})),r(i,(function(){return l.current}),[l]),[T,l,E]};export{o as useHoverIntent};
